<link rel="import" href="/bower_components/polymer/polymer-element.html">
<link rel="import" href="/bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="/bower_components/iron-icon/iron-icon.html">
<link rel="import" href="/bower_components/iron-icons/iron-icons.html">
<link rel="import" href="/bower_components/paper-card/paper-card.html">

<link rel="import" href="/src/functional/diy-firebase-get.html">
<link rel="import" href="/src/mixins/mixin-redux.html">
<link rel="import" href="/src/diy-flavor-list.html">

<dom-module id="diy-user-inventory">
  <link rel="import" type="css" href="diy-user-inventory.css">
  <template>
    <style include="iron-flex iron-flex-alignment"></style>
    <style include="diy-theme"></style>

    <diy-firebase-get
        id="firebaseGet"
        loading="{{isLoading}}"
        data="{{inventoryData}}"
        error="{{loadingError}}">
    </diy-firebase-get>

    <template is="dom-if" if="[[isLoading]]">
      <paper-card id="loadingCard">
        <span>Loading inventory...</span>
      </paper-card>
    </template>

    <template is="dom-if" if="[[loadingError]]">
      <paper-card id="errorCard">
        <span>Error: [[loadingError]]</span>
      </paper-card>
    </template>

    <template is="dom-if" if="[[inventory]]">
      <diy-flavor-list
          title="Flavor Wishlist"
          flavors="[[wishlist]]">
      </diy-flavor-list>

      <diy-flavor-list
          title="Flavor Inventory"
          flavors="[[inventory]]">
      </diy-flavor-list>
    </template>

  </template>
  <script type="text/javascript" src="diy-user-inventory.js"></script>
</dom-module>
