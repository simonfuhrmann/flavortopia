<link rel="import" href="/bower_components/polymer/polymer-element.html">
<link rel="import" href="/bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="/bower_components/iron-icon/iron-icon.html">
<link rel="import" href="/bower_components/iron-icons/iron-icons.html">
<link rel="import" href="/bower_components/paper-card/paper-card.html">
<link rel="import" href="/bower_components/paper-fab/paper-fab.html">

<link rel="import" href="/src/mixins/mixin-static-data.html">
<link rel="import" href="/src/common/diy-live-search.html">
<link rel="import" href="/src/theme/diy-theme.html">
<link rel="import" href="/src/diy-flavor-list.html">

<dom-module id="diy-all-flavors">
  <link rel="import" type="css" href="diy-all-flavors.css">
  <template>
    <style include="iron-flex iron-flex-alignment"></style>
    <style include="diy-theme"></style>

    <diy-live-search search="{{searchTerm}}"></diy-live-search>

    <!-- Display search result if a term was entered. -->
    <template is="dom-if" if="[[searchTerm]]">
      <diy-flavor-list
          flavors="[[flavorsSearch]]"
          limit="50"
          title="Search: [[searchTerm]]"
          empty-message="Search does not match any flavors.">
      </diy-flavor-list>
    </template>

    <!-- Show all flavors if no search term was entered. -->
    <template is="dom-if" if="[[!searchTerm]]">
      <template is="dom-repeat" items="[[flavorsByVendor]]" as="vendor">
        <diy-flavor-list
            flavors="[[vendor.flavors]]"
            limit="10"
            title="[[vendor.vendor.name]]"
            vendor-key="[[vendor.vendor.key]]"
            empty-message="No flavors to show.">
        </diy-flavor-list>
      </template>
    </template>

  </template>
  <script type="text/javascript" src="diy-all-flavors.js"></script>
</dom-module>
