<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/app-layout/app-layout.html">
<link rel="import" href="../bower_components/app-route/app-location.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../bower_components/paper-item/paper-icon-item.html">
<link rel="import" href="../bower_components/paper-item/paper-item-body.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<link rel="import" href="mixin-router.html">
<link rel="import" href="diy-firebase.html">
<link rel="import" href="diy-content.html">
<link rel="import" href="diy-user-menu.html">
<link rel="import" href="diy-drawer-layout.html">
<link rel="import" href="diy-theme.html">
<link rel="import" href="diy-main-menu.html">

<dom-module id="diy-app">
  <!-- <link rel="stylesheet" type="css" href="diy-app.css"> -->
  <link rel="import" type="css" href="diy-app.css">
  <template>
    <style include="iron-flex iron-flex-alignment"></style>
    <style include="diy-theme"></style>

    <!-- Application routes. -->
    <app-location use-hash-as-path route="{{route}}"></app-location>

    <!-- Access to the firebase system. -->
    <diy-firebase id="firebase"></diy-firebase>

    <!-- Application toolbar. -->
    <app-toolbar>
      <paper-icon-button icon="icons:home" on-tap="goHome"></paper-icon-button>
      <div main-title>Flavortopia</div>
      <diy-user-menu></diy-user-menu>
    </app-toolbar>

    <diy-drawer-layout>
      <!-- Application menu. -->
      <app-drawer slot="drawer" opened>
        <diy-main-menu></diy-main-menu>
      </app-drawer>

      <!-- Main content. -->
      <main>
        <diy-content></diy-content>
      </main>
    </diy-drawer-layout>

    <!-- Dialog to force the user to enter a display name. -->
    <paper-dialog id="enterDisplayNameDialog" class="info-dialog" modal>
      <div class="dialog-title">
        <iron-icon icon="icons:account-circle"></iron-icon>
        <h2>Enter your display name</h2>
      </div>
      <div class="content">
        <p>
          Flavortopia takes your privacy serious. As such, your email address
          and real name that may be associated with your sign-in credientials is
          never displayed to other users. You choose the name other users will
          see.
          <!-- You can change your display name at any time in your profile. -->
        </p>
        <diy-paper-input
            label="Display Name"
            id="displayNameInput">
        </diy-paper-input>
      </div>
      <div class="buttons">
        <paper-button on-tap="onSetDisplayNameTap_">Set Name</paper-button>
      </div>
    </paper-dialog>

  </template>
  <script type="text/javascript" src="diy-app.js"></script>
</dom-module>
