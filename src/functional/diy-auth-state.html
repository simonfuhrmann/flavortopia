<link rel="import" href="/bower_components/polymer/polymer-element.html">
<link rel="import" href="/bower_components/iron-icon/iron-icon.html">
<link rel="import" href="/bower_components/iron-icons/iron-icons.html">
<link rel="import" href="/bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="/bower_components/paper-button/paper-button.html">

<link rel="import" href="/src/common/diy-input.html">
<link rel="import" href="/src/functional/diy-firebase-auth.html">
<link rel="import" href="/src/functional/diy-firebase-store.html">
<link rel="import" href="/src/mixins/mixin-firebase-username.html">
<link rel="import" href="/src/mixins/mixin-redux.html">
<link rel="import" href="/src/theme/diy-theme.html">

<dom-module id="diy-auth-state">
  <link rel="import" type="css" href="diy-auth-state.css">
  <template>
    <style include="diy-theme"></style>

    <!-- Access to the firebase system. -->
    <diy-firebase-auth id="firebaseAuth"></diy-firebase-auth>
    <diy-firebase-store id="firebaseStore"></diy-firebase-store>

    <!-- Dialog to force the user to enter a display name. -->
    <paper-dialog id="enterDisplayNameDialog" class="info-dialog" modal>
      <div class="dialog-title">
        <iron-icon icon="icons:account-circle"></iron-icon>
        <h2>Enter your display name</h2>
      </div>
      <div class="content">
        <p>
          Flavortopia takes your privacy serious. As such, your email address
          and real name that may be associated with your sign-in credientials is
          never displayed to other users. You choose the name other users will
          see.
          <!-- You can change your display name at any time in your profile. -->
        </p>
        <diy-input
            label="Display Name"
            id="displayNameInput">
        </diy-input>
      </div>
      <div class="buttons">
        <paper-button
            id="setDisplayNameButton"
            on-tap="onSetDisplayNameTap_">
          Set Name
        </paper-button>
      </div>
    </paper-dialog>

  </template>
  <script type="text/javascript" src="diy-auth-state.js"></script>
</dom-module>
